# 1.3 浅拷贝与深拷贝

python 创建一个新的对象, 赋值给一个变量,并没有拷贝这个对象, 而是拷贝的这个引用;

### 赋值引用
常用的赋值引用, 也只是拷贝了一个引用;
```python
# -*-coding:utf-8-*-
a = [3, 2, 5, ['2', 'a'], 6]
b = a
a.append('12')
print(id(a), id(b))
print(u"浅拷贝, 原始对象{0}".format(a))
print(u"浅拷贝, 拷贝对象{0}".format(b))
#>>> (140646671695744, 140646671695744)
#>>> 浅拷贝, 原始对象[3, 2, 5, ['2', 'a'], 6, '12']
#>>> 浅拷贝, 拷贝对象[3, 2, 5, ['2', 'a'], 6, '12']
```
<font face="楷体" color=red size=4>**可以看见, 在赋值引用中, 新赋值的变量指向同一个地址,
所以在原始列表中添加一个元素, 另外一个对象也会随之发生改变**</font>

### 浅拷贝
浅拷贝没有拷贝子对象, 当原始对象的子对象发生改变时, 拷贝对象的子对象也会改变
```python
# -*-coding:utf-8-*-
import copy

a = [3, 2, 5, ['2', 'a'], 6]
b = copy.copy(a)
print(id(a), id(b))
print(id(a[3]), id(b[3]))
#>>> (139669284388736, 139669284382696)
#>>> (140380414159832, 140380414159832) # id 相同

a.append('12')
print(u"浅拷贝, 原始对象{0}".format(a))
print(u"浅拷贝, 拷贝对象{0}".format(b))
#>>> 浅拷贝, 原始对象[3, 2, 5, ['2', 'a'], 6, '12']
#>>> 浅拷贝, 拷贝对象[3, 2, 5, ['2', 'a'], 6]   # 被拷贝对象未改变
a[3].append("c")
print(u"浅拷贝, 原始对象{0}".format(a))
print(u"浅拷贝, 拷贝对象{0}".format(b))
#>>> 浅拷贝, 原始对象[3, 2, 5, ['2', 'a', 'c'], 6, '12']
#>>> 浅拷贝, 拷贝对象[3, 2, 5, ['2', 'a', 'c'], 6] # 被拷贝对象子对象发生改变

```
<font face="楷体" color=red size=4>**可以看到, 浅拷贝中, 对象本身地址不同, 而子对象的id相同. 
及浅拷贝是在一个新的地址复制了原对象各个地址**</font>

### 深拷贝
深拷贝会拷贝对象及对象所包含的子对象, 所以原始对象的改变不会影响被拷贝对象
```python
# -*-coding:utf-8-*-
import copy

a = [3, 2, 5, ['2', 'a'], 6]
b = copy.deepcopy(a)
print(id(a[3]), id(b[3]))
print(id(a[3]), id(b[3]))
#>>> (139669284388736, 139669284382696) 
#>>> (140106937203672, 140106937294360)

a.append('12')
print(u"浅拷贝, 原始对象{0}".format(a))
print(u"浅拷贝, 拷贝对象{0}".format(b))
#>>> 浅拷贝, 原始对象[3, 2, 5, ['2', 'a'], 6, '12']
#>>> 浅拷贝, 拷贝对象[3, 2, 5, ['2', 'a'], 6]   # 被拷贝对象未改变
a[3].append("c")
print(u"浅拷贝, 原始对象{0}".format(a))
print(u"浅拷贝, 拷贝对象{0}".format(b))
#>>> 浅拷贝, 原始对象[3, 2, 5, ['2', 'a', 'c'], 6, '12']
#>>> 浅拷贝, 拷贝对象[3, 2, 5, ['2', 'a'], 6] # 被拷贝对象子对象也未改变
```

<font face="楷体" color=red size=4>**可以看到, 在深拷贝中, 对象本身地址不同, 子对象的地址也不同, 
及深拷贝是在一个新的地址中, 重新创建了原对象**</font>

<font face="隶书" color=red size=4>**可以看到, 在深拷贝中, 对象本身地址不同, 子对象的地址也不同, 
及深拷贝是在一个新的地址中, 重新创建了原对象**</font>
